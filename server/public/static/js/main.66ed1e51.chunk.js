(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{17:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return App}));var H_codeSmith_aws_reacty_my_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(3),H_codeSmith_aws_reacty_my_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(H_codeSmith_aws_reacty_my_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__),H_codeSmith_aws_reacty_my_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(18),H_codeSmith_aws_reacty_my_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(19),H_codeSmith_aws_reacty_my_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(21),H_codeSmith_aws_reacty_my_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(20),H_codeSmith_aws_reacty_my_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(5),react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(4),react__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__),axios__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(7),axios__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_7__),_styles_css__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(46),_styles_css__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(_styles_css__WEBPACK_IMPORTED_MODULE_8__),_SoundEngine_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(2),_SoundEngine_js__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(_SoundEngine_js__WEBPACK_IMPORTED_MODULE_9__),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(0),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__),nameOfProject=100*Math.random(),uploader=document.getElementById("uploadButton"),loader=document.getElementById("loadButton"),nameBox=document.getElementById("projectName"),kick,snare,hihat;function uploadProject(e){return _uploadProject.apply(this,arguments)}function _uploadProject(){return(_uploadProject=Object(H_codeSmith_aws_reacty_my_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5__.a)(H_codeSmith_aws_reacty_my_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark((function e(t){var n,_;return H_codeSmith_aws_reacty_my_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/upload",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({data:t})});case 2:return n=e.sent,e.next=5,n.json();case 5:_=e.sent,console.log(_);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function setup(){kick=_SoundEngine_js__WEBPACK_IMPORTED_MODULE_9__.sounds["./samples/Kick.mp3"],snare=_SoundEngine_js__WEBPACK_IMPORTED_MODULE_9__.sounds["./samples/Snare.mp3"],hihat=_SoundEngine_js__WEBPACK_IMPORTED_MODULE_9__.sounds["./samples/HiHat.mp3"]}nameBox.addEventListener("input",(function(e){nameOfProject=nameBox.value})),uploader.addEventListener("click",(function(){globalState.name=nameOfProject,globalState.bpm=bpm,uploadProject(globalState)})),_SoundEngine_js__WEBPACK_IMPORTED_MODULE_9__.sounds.load(["./samples/HiHat.mp3","./samples/Kick.mp3","./samples/Snare.mp3"]),_SoundEngine_js__WEBPACK_IMPORTED_MODULE_9__.sounds.onProgress=function(e,t){console.log("Total "+e+" file(s) loaded."),console.log("File "+t.url+" just finished loading.")},_SoundEngine_js__WEBPACK_IMPORTED_MODULE_9__.sounds.whenLoaded=setup;var synthChoice="sawtooth",reverbChoice=void 0,echoChoice=void 0,panChoice=0,sawButton=document.getElementById("saw"),sineButton=document.getElementById("sin"),squareButton=document.getElementById("square"),triangleButton=document.getElementById("triangle");sawButton.addEventListener("click",(function(){synthChoice="sawtooth"})),sineButton.addEventListener("click",(function(){synthChoice="sine"})),squareButton.addEventListener("click",(function(){synthChoice="square"})),triangleButton.addEventListener("click",(function(){synthChoice="triangle"}));var reverbSlider=document.getElementById("reverbSlider");reverbSlider.addEventListener("click",(function(){reverbChoice=void 0===reverbChoice?[1,.5,!1]:void 0}));var echoSlider=document.getElementById("echoSlider");function syntheronie(e){Object(_SoundEngine_js__WEBPACK_IMPORTED_MODULE_9__.soundEffect)(e,0,.3,synthChoice,.3,panChoice,0,0,!1,0,0,echoChoice,reverbChoice)}echoSlider.addEventListener("click",(function(){echoChoice=void 0===echoChoice?[3*tpi/1e3,.5,1e3]:void 0}));var freqArray=[493.88,466.16,440,415.3,392,369.99,349.23,329.63,311.13,293.66,277.18,261.63,246.94,233.08,220,207.65,196,185,174.61,164.81,155.56,146.83,138.59,130.81],globalState={},bpm=130,tpi=115.3846153846154,App=function(_React$Component){Object(H_codeSmith_aws_reacty_my_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_3__.a)(App,_React$Component);var _super=Object(H_codeSmith_aws_reacty_my_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_4__.a)(App);function App(e,t){var n;return Object(H_codeSmith_aws_reacty_my_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__.a)(this,App),(n=_super.call(this,e,t)).state={project:[],playPosition:0},n}return Object(H_codeSmith_aws_reacty_my_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_2__.a)(App,[{key:"componentDidMount",value:function(){var e=this;axios__WEBPACK_IMPORTED_MODULE_7___default.a.get("/YourProject").then((function(t){e.setState({project:t.data})})).then((function(){globalState=JSON.parse(JSON.stringify(e.state))}))}},{key:"update",value:function(){var _update=Object(H_codeSmith_aws_reacty_my_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5__.a)(H_codeSmith_aws_reacty_my_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark((function _callee2(inst,index,pianoIndex){var updatedState,tiktok;return H_codeSmith_aws_reacty_my_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return"piano"===inst?syntheronie(freqArray[pianoIndex]):eval(inst).play(),updatedState=this.state,tiktok=function(){var e=Object(H_codeSmith_aws_reacty_my_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5__.a)(H_codeSmith_aws_reacty_my_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark((function e(){var t;return H_codeSmith_aws_reacty_my_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"piano"===inst?(t=freqArray[pianoIndex],updatedState.project[index].piano.includes(t)?updatedState.project[index].piano=updatedState.project[index].piano.filter((function(e){return e!==t})):updatedState.project[index].piano.push(t)):!0===updatedState.project[index][inst]?updatedState.project[index][inst]=!1:updatedState.project[index][inst]=!0;case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_context2.next=5,tiktok();case 5:return _context2.next=7,this.setState(updatedState);case 7:globalState=JSON.parse(JSON.stringify(this.state));case 8:case"end":return _context2.stop()}}),_callee2,this)})));function update(e,t,n){return _update.apply(this,arguments)}return update}()},{key:"loadProject",value:function(){var e=this;console.log("in loadProject"),axios__WEBPACK_IMPORTED_MODULE_7___default.a.get("/load",{params:{name:nameOfProject}}).then((function(t){e.setState({project:t.data})})).then((function(){globalState=JSON.parse(JSON.stringify(e.state))}))}},{key:"placer",value:function(e){this.setState({playPosition:e}),globalState.playPosition=e,stop=!0,channelControl=0,line.setAttribute("x1",25*e+100),line.setAttribute("x2",25*e+100)}},{key:"colorCaster",value:function(e,t,n){return"kick"===e?!0===this.state.project[t][e]?"rgba(90, 85, 170, 1)":"white":"snare"===e?!0===this.state.project[t][e]?"rgba(180, 230, 0, 1)":"white":"hihat"===e?!0===this.state.project[t][e]?"rgba(246, 76, 70, 1)":"white":"piano"===e?this.state.project[t].piano.includes(freqArray[n])?"rgba(46, 255, 199, 1) ":"white":void 0}},{key:"render",value:function(){var e=this,t=this.state.project,n=t.slice(0,512).map((function(t,n){return n%4===0?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("div",{className:"indicatorOB",id:"indicator"+String(4*n),onClick:function(){return e.placer(4*n)},children:["bar:",Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("span",{className:"barFont",children:Math.floor(n/4)+1})," beat:",Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("span",{className:"beatFont",children:String(n%4+1)})]}):Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("div",{className:"indicator",id:"indicator"+String(4*n),onClick:function(){return e.placer(4*n)},children:["bar:",Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("span",{className:"barFont",children:Math.floor(n/4)+1})," beat:",Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("span",{className:"beatFont",children:String(n%4+1)})]})})),_=t.map((function(t,n){return n%16===0?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div",{className:"subIndicatorOB",id:"indicator"+String(n),onClick:function(){return e.placer(n)},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("span",{className:"beatFont2",children:String(n%16+1)+"/16"})}):Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div",{className:"subIndicator",id:"indicator"+String(n),onClick:function(){return e.placer(n)},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("span",{className:"beatFont2",children:String(n%16+1)+"/16"})})})),o=t.map((function(t,n){return n%16===0?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div",{className:"boxOB",id:"kick"+String(n),onClick:function(){return e.update("kick",n)},style:{backgroundColor:e.colorCaster.bind(e)("kick",n)}}):Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div",{className:"box",id:"kick"+String(n),onClick:function(){return e.update("kick",n)},style:{backgroundColor:e.colorCaster.bind(e)("kick",n)}})})),a=t.map((function(t,n){return n%16===0?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div",{className:"boxOB",id:"snare"+String(n),onClick:function(){return e.update("snare",n)},style:{backgroundColor:e.colorCaster.bind(e)("snare",n)}}):Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div",{className:"box",id:"snare"+String(n),onClick:function(){return e.update("snare",n)},style:{backgroundColor:e.colorCaster.bind(e)("snare",n)}})})),r=t.map((function(t,n){return n%16===0?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div",{className:"boxOB",id:"hihat"+String(n),onClick:function(){return e.update("hihat",n)},style:{backgroundColor:e.colorCaster.bind(e)("hihat",n)}}):Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div",{className:"box",id:"hihat"+String(n),onClick:function(){return e.update("hihat",n)},style:{backgroundColor:e.colorCaster.bind(e)("hihat",n)}})})),i=t.map((function(t,n){return n%16===0?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div",{className:"pianoOB",onClick:function(){return e.update("piano",n,0)},style:{backgroundColor:e.colorCaster.bind(e)("piano",n,0)}}):Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div",{className:"piano",onClick:function(){return e.update("piano",n,0)},style:{backgroundColor:e.colorCaster.bind(e)("piano",n,0)}})})),c=t.map((function(t,n){return n%16===0?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div",{className:"pianoOB",onClick:function(){return e.update("piano",n,1)},style:{backgroundColor:e.colorCaster.bind(e)("piano",n,1)}}):Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div",{className:"piano",onClick:function(){return e.update("piano",n,1)},style:{backgroundColor:e.colorCaster.bind(e)("piano",n,1)}})})),s=t.map((function(t,n){return n%16===0?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div",{className:"pianoOB",onClick:function(){return e.update("piano",n,2)},style:{backgroundColor:e.colorCaster.bind(e)("piano",n,2)}}):Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div",{className:"piano",onClick:function(){return e.update("piano",n,2)},style:{backgroundColor:e.colorCaster.bind(e)("piano",n,2)}})})),u=t.map((function(t,n){return n%16===0?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div",{className:"pianoOB",onClick:function(){return e.update("piano",n,3)},style:{backgroundColor:e.colorCaster.bind(e)("piano",n,3)}}):Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div",{className:"piano",onClick:function(){return e.update("piano",n,3)},style:{backgroundColor:e.colorCaster.bind(e)("piano",n,3)}})})),l=t.map((function(t,n){return n%16===0?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div",{className:"pianoOB",onClick:function(){return e.update("piano",n,4)},style:{backgroundColor:e.colorCaster.bind(e)("piano",n,4)}}):Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div",{className:"piano",onClick:function(){return e.update("piano",n,4)},style:{backgroundColor:e.colorCaster.bind(e)("piano",n,4)}})})),d=t.map((function(t,n){return n%16===0?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div",{className:"pianoOB",onClick:function(){return e.update("piano",n,5)},style:{backgroundColor:e.colorCaster.bind(e)("piano",n,5)}}):Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div",{className:"piano",onClick:function(){return e.update("piano",n,5)},style:{backgroundColor:e.colorCaster.bind(e)("piano",n,5)}})})),p=t.map((function(t,n){return n%16===0?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div",{className:"pianoOB",onClick:function(){return e.update("piano",n,6)},style:{backgroundColor:e.colorCaster.bind(e)("piano",n,6)}}):Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div",{className:"piano",onClick:function(){return e.update("piano",n,6)},style:{backgroundColor:e.colorCaster.bind(e)("piano",n,6)}})})),m=t.map((function(t,n){return n%16===0?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div",{className:"pianoOB",onClick:function(){return e.update("piano",n,7)},style:{backgroundColor:e.colorCaster.bind(e)("piano",n,7)}}):Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div",{className:"piano",onClick:function(){return e.update("piano",n,7)},style:{backgroundColor:e.colorCaster.bind(e)("piano",n,7)}})})),E=t.map((function(t,n){return n%16===0?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div",{className:"pianoOB",onClick:function(){return e.update("piano",n,8)},style:{backgroundColor:e.colorCaster.bind(e)("piano",n,8)}}):Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div",{className:"piano",onClick:function(){return e.update("piano",n,8)},style:{backgroundColor:e.colorCaster.bind(e)("piano",n,8)}})})),O=t.map((function(t,n){return n%16===0?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div",{className:"pianoOB",onClick:function(){return e.update("piano",n,9)},style:{backgroundColor:e.colorCaster.bind(e)("piano",n,9)}}):Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div",{className:"piano",onClick:function(){return e.update("piano",n,9)},style:{backgroundColor:e.colorCaster.bind(e)("piano",n,9)}})})),b=t.map((function(t,n){return n%16===0?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div",{className:"pianoOB",onClick:function(){return e.update("piano",n,10)},style:{backgroundColor:e.colorCaster.bind(e)("piano",n,10)}}):Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div",{className:"piano",onClick:function(){return e.update("piano",n,10)},style:{backgroundColor:e.colorCaster.bind(e)("piano",n,10)}})})),C=t.map((function(t,n){return n%16===0?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div",{className:"pianoOB",onClick:function(){return e.update("piano",n,11)},style:{backgroundColor:e.colorCaster.bind(e)("piano",n,11)}}):Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div",{className:"piano",onClick:function(){return e.update("piano",n,11)},style:{backgroundColor:e.colorCaster.bind(e)("piano",n,11)}})})),j=t.map((function(t,n){return n%16===0?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div",{className:"pianoOB",onClick:function(){return e.update("piano",n,12)},style:{backgroundColor:e.colorCaster.bind(e)("piano",n,12)}}):Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div",{className:"piano",onClick:function(){return e.update("piano",n,12)},style:{backgroundColor:e.colorCaster.bind(e)("piano",n,12)}})})),P=t.map((function(t,n){return n%16===0?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div",{className:"pianoOB",onClick:function(){return e.update("piano",n,13)},style:{backgroundColor:e.colorCaster.bind(e)("piano",n,13)}}):Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div",{className:"piano",onClick:function(){return e.update("piano",n,13)},style:{backgroundColor:e.colorCaster.bind(e)("piano",n,13)}})})),f=t.map((function(t,n){return n%16===0?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div",{className:"pianoOB",onClick:function(){return e.update("piano",n,14)},style:{backgroundColor:e.colorCaster.bind(e)("piano",n,14)}}):Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div",{className:"piano",onClick:function(){return e.update("piano",n,14)},style:{backgroundColor:e.colorCaster.bind(e)("piano",n,14)}})})),D=t.map((function(t,n){return n%16===0?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div",{className:"pianoOB",onClick:function(){return e.update("piano",n,15)},style:{backgroundColor:e.colorCaster.bind(e)("piano",n,15)}}):Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div",{className:"piano",onClick:function(){return e.update("piano",n,15)},style:{backgroundColor:e.colorCaster.bind(e)("piano",n,15)}})})),x=t.map((function(t,n){return n%16===0?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div",{className:"pianoOB",onClick:function(){return e.update("piano",n,16)},style:{backgroundColor:e.colorCaster.bind(e)("piano",n,16)}}):Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div",{className:"piano",onClick:function(){return e.update("piano",n,16)},style:{backgroundColor:e.colorCaster.bind(e)("piano",n,16)}})})),M=t.map((function(t,n){return n%16===0?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div",{className:"pianoOB",onClick:function(){return e.update("piano",n,17)},style:{backgroundColor:e.colorCaster.bind(e)("piano",n,17)}}):Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div",{className:"piano",onClick:function(){return e.update("piano",n,17)},style:{backgroundColor:e.colorCaster.bind(e)("piano",n,17)}})})),y=t.map((function(t,n){return n%16===0?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div",{className:"pianoOB",onClick:function(){return e.update("piano",n,18)},style:{backgroundColor:e.colorCaster.bind(e)("piano",n,18)}}):Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div",{className:"piano",onClick:function(){return e.update("piano",n,18)},style:{backgroundColor:e.colorCaster.bind(e)("piano",n,18)}})})),h=t.map((function(t,n){return n%16===0?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div",{className:"pianoOB",onClick:function(){return e.update("piano",n,19)},style:{backgroundColor:e.colorCaster.bind(e)("piano",n,19)}}):Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div",{className:"piano",onClick:function(){return e.update("piano",n,19)},style:{backgroundColor:e.colorCaster.bind(e)("piano",n,19)}})})),v=t.map((function(t,n){return n%16===0?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div",{className:"pianoOB",onClick:function(){return e.update("piano",n,20)},style:{backgroundColor:e.colorCaster.bind(e)("piano",n,20)}}):Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div",{className:"piano",onClick:function(){return e.update("piano",n,20)},style:{backgroundColor:e.colorCaster.bind(e)("piano",n,20)}})})),B=t.map((function(t,n){return n%16===0?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div",{className:"pianoOB",onClick:function(){return e.update("piano",n,21)},style:{backgroundColor:e.colorCaster.bind(e)("piano",n,21)}}):Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div",{className:"piano",onClick:function(){return e.update("piano",n,21)},style:{backgroundColor:e.colorCaster.bind(e)("piano",n,21)}})})),A=t.map((function(t,n){return n%16===0?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div",{className:"pianoOB",onClick:function(){return e.update("piano",n,22)},style:{backgroundColor:e.colorCaster.bind(e)("piano",n,22)}}):Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div",{className:"piano",onClick:function(){return e.update("piano",n,22)},style:{backgroundColor:e.colorCaster.bind(e)("piano",n,22)}})})),k=t.map((function(t,n){return n%16===0?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div",{className:"pianoOB",onClick:function(){return e.update("piano",n,23)},style:{backgroundColor:e.colorCaster.bind(e)("piano",n,23)}}):Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div",{className:"piano",onClick:function(){return e.update("piano",n,23)},style:{backgroundColor:e.colorCaster.bind(e)("piano",n,23)}})}));return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("div",{className:"behind",style:{zIndex:"0"},children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("button",{id:"loadButton",onClick:function(){return e.loadProject()},children:"load"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("ul",{id:"grid",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("li",{className:"indiRows",children:n}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("li",{className:"indiRows",children:_}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("li",{className:"indiRows",children:i}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("li",{className:"indiRows",children:c}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("li",{className:"indiRows",children:s}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("li",{className:"indiRows",children:u}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("li",{className:"indiRows",children:l}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("li",{className:"indiRows",children:d}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("li",{className:"indiRows",children:p}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("li",{className:"indiRows",children:m}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("li",{className:"indiRows",children:E}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("li",{className:"indiRows",children:O}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("li",{className:"indiRows",children:b}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("li",{className:"indiRows",children:C}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("li",{className:"indiRows",children:j}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("li",{className:"indiRows",children:P}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("li",{className:"indiRows",children:f}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("li",{className:"indiRows",children:D}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("li",{className:"indiRows",children:x}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("li",{className:"indiRows",children:M}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("li",{className:"indiRows",children:y}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("li",{className:"indiRows",children:h}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("li",{className:"indiRows",children:v}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("li",{className:"indiRows",children:B}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("li",{className:"indiRows",children:A}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("li",{className:"indiRows",children:k}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("li",{className:"rows",children:o}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("li",{className:"rows",children:a}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("li",{className:"rows",children:r})]})]})}}]),App}(react__WEBPACK_IMPORTED_MODULE_6___default.a.Component),stickyPiano=document.getElementById("stickyPiano");stickyPiano.style.top="150px",window.addEventListener("scroll",(function(){stickyPiano.style.left=window.scrollX+"px"}));var line=document.getElementById("line"),lineBox=document.getElementById("svg"),lineDiv=document.getElementById("up"),grid=document.getElementById("grid");function lineAnimate(e,t){!1===stop&&(line.setAttribute("x1",e),line.setAttribute("x2",e))}window.addEventListener("load",(function(){lineBox.setAttribute("width",document.documentElement.scrollWidth+100),lineBox.setAttribute("height",document.documentElement.scrollHeight+100),line.setAttribute("y2",String(document.documentElement.scrollHeight+100)),lineDiv.setAttribute("height",String(document.documentElement.scrollHeight+100))})),window.addEventListener("resize",(function(){lineBox.setAttribute("width",document.documentElement.scrollWidth+100),lineBox.setAttribute("height",document.documentElement.scrollHeight+100),line.setAttribute("y2",String(document.documentElement.scrollHeight+100)),lineDiv.setAttribute("max-height",String(document.documentElement.scrollHeight+100))}));var bpmBox=document.getElementById("bpmInput");function bpmToTpi(e){tpi=6e4/(4*e)}bpmBox.addEventListener("input",(function(e){bpmToTpi(bpm=bpmBox.value)}));var playBtn=document.getElementById("playButton"),stopBtn=document.getElementById("stopButton"),pauseBtn=document.getElementById("pauseButton"),stop=!1,pause=!1,channelControl=1,audioIndex=0;function playRecursion1(e,t){if(audioIndex=e+t,lineAnimate(25*(e+t)+100,0),1===channelControl&&!0!==stop&&e+t<2048){setTimeout((function(){playRecursion1(e,t+1)}),tpi);var n=globalState.project[e+t];!0===n.kick&&kick.play(),!0===n.snare&&snare.play(),!0===n.hihat&&hihat.play(),n.piano.forEach((function(e){syntheronie(e)}))}}function playRecursion2(e,t){if(2===channelControl&&!0!==stop&&e+t<2048){setTimeout((function(){playRecursion2(e,t+1)}),tpi),audioIndex=e+t,lineAnimate(25*(e+t)+100,0);var n=globalState.project[e+t];!0===n.kick&&kick.play(),!0===n.snare&&snare.play(),!0===n.hihat&&hihat.play(),n.piano.forEach((function(e){syntheronie(e)}))}}playBtn.addEventListener("click",(function(e){stop=!1,1===channelControl?(channelControl=2,!0===pause?(pause=!1,playRecursion2(audioIndex,0)):playRecursion2(globalState.playPosition,0)):(channelControl=1,!0===pause?(pause=!1,playRecursion1(audioIndex,0)):playRecursion1(globalState.playPosition,0))})),stopBtn.addEventListener("click",(function(e){stop=!0,line.setAttribute("x1",25*globalState.playPosition+100),line.setAttribute("x2",25*globalState.playPosition+100)})),pauseBtn.addEventListener("click",(function(e){stop=!0,pause=!0}));var navbar=document.getElementById("navbar")},2:function(e,t){!function(e,t,n){"use strict";function _(e){e&&(e.setTargetAtTime||(e.setTargetAtTime=e.setTargetValueAtTime))}window.hasOwnProperty("webkitAudioContext")&&!window.hasOwnProperty("AudioContext")&&(window.AudioContext=window.webkitAudioContext,AudioContext.prototype.hasOwnProperty("createGain")||(AudioContext.prototype.createGain=AudioContext.prototype.createGainNode),AudioContext.prototype.hasOwnProperty("createDelay")||(AudioContext.prototype.createDelay=AudioContext.prototype.createDelayNode),AudioContext.prototype.hasOwnProperty("createScriptProcessor")||(AudioContext.prototype.createScriptProcessor=AudioContext.prototype.createJavaScriptNode),AudioContext.prototype.hasOwnProperty("createPeriodicWave")||(AudioContext.prototype.createPeriodicWave=AudioContext.prototype.createWaveTable),AudioContext.prototype.internal_createGain=AudioContext.prototype.createGain,AudioContext.prototype.createGain=function(){var e=this.internal_createGain();return _(e.gain),e},AudioContext.prototype.internal_createDelay=AudioContext.prototype.createDelay,AudioContext.prototype.createDelay=function(e){var t=e?this.internal_createDelay(e):this.internal_createDelay();return _(t.delayTime),t},AudioContext.prototype.internal_createBufferSource=AudioContext.prototype.createBufferSource,AudioContext.prototype.createBufferSource=function(){var e=this.internal_createBufferSource();return e.start?(e.internal_start=e.start,e.start=function(t,n,_){"undefined"!==typeof _?e.internal_start(t||0,n,_):e.internal_start(t||0,n||0)}):e.start=function(e,t,n){t||n?this.noteGrainOn(e||0,t,n):this.noteOn(e||0)},e.stop?(e.internal_stop=e.stop,e.stop=function(t){e.internal_stop(t||0)}):e.stop=function(e){this.noteOff(e||0)},_(e.playbackRate),e},AudioContext.prototype.internal_createDynamicsCompressor=AudioContext.prototype.createDynamicsCompressor,AudioContext.prototype.createDynamicsCompressor=function(){var e=this.internal_createDynamicsCompressor();return _(e.threshold),_(e.knee),_(e.ratio),_(e.reduction),_(e.attack),_(e.release),e},AudioContext.prototype.internal_createBiquadFilter=AudioContext.prototype.createBiquadFilter,AudioContext.prototype.createBiquadFilter=function(){var e=this.internal_createBiquadFilter();return _(e.frequency),_(e.detune),_(e.Q),_(e.gain),e},AudioContext.prototype.hasOwnProperty("createOscillator")&&(AudioContext.prototype.internal_createOscillator=AudioContext.prototype.createOscillator,AudioContext.prototype.createOscillator=function(){var e=this.internal_createOscillator();return e.start?(e.internal_start=e.start,e.start=function(t){e.internal_start(t||0)}):e.start=function(e){this.noteOn(e||0)},e.stop?(e.internal_stop=e.stop,e.stop=function(t){e.internal_stop(t||0)}):e.stop=function(e){this.noteOff(e||0)},e.setPeriodicWave||(e.setPeriodicWave=e.setWaveTable),_(e.frequency),_(e.detune),e})),window.hasOwnProperty("webkitOfflineAudioContext")&&!window.hasOwnProperty("OfflineAudioContext")&&(window.OfflineAudioContext=window.webkitOfflineAudioContext)}(window);t=e.exports={};var n=new AudioContext;t.actx=n;var _={toLoad:0,loaded:0,audioExtensions:["mp3","ogg","wav","webm"],whenLoaded:void 0,onProgress:void 0,onFailed:function(e,t){throw new Error("Audio could not be loaded: "+e)},load:function(e){console.log("Loading sounds..");var t=this;t.toLoad=e.length,e.forEach((function(e){var n=e.split(".").pop();if(-1!==t.audioExtensions.indexOf(n)){var _=o(e,t.loadHandler.bind(t),!0,!1,t.onFailed);_.name=e,t[_.name]=_}else console.log("File type not recognized: "+e)}))},loadHandler:function(e){var t=this;t.loaded+=1,t.onProgress&&t.onProgress(100*t.loaded/t.toLoad,{url:e}),t.toLoad===t.loaded&&(console.log("Sounds finished loading"),t.toLoad=0,t.loaded=0,t.whenLoaded&&t.whenLoaded())}};function o(e,t,_,o,c){var s={};return s.volumeNode=n.createGain(),n.createStereoPanner?s.panNode=n.createStereoPanner():s.panNode=n.createPanner(),s.delayNode=n.createDelay(),s.feedbackNode=n.createGain(),s.filterNode=n.createBiquadFilter(),s.convolverNode=n.createConvolver(),s.soundNode=null,s.buffer=null,s.source=e,s.loop=!1,s.playing=!1,s.loadHandler=void 0,s.panValue=0,s.volumeValue=1,s.startTime=0,s.startOffset=0,s.playbackRate=1,s.echo=!1,s.delayValue=.3,s.feebackValue=.3,s.filterValue=0,s.reverb=!1,s.reverbImpulse=null,s.play=function(){s.startTime=n.currentTime,s.soundNode=n.createBufferSource(),s.soundNode.buffer=s.buffer,s.soundNode.playbackRate.value=this.playbackRate,s.soundNode.connect(s.volumeNode),!1===s.reverb?s.volumeNode.connect(s.panNode):(s.volumeNode.connect(s.convolverNode),s.convolverNode.connect(s.panNode),s.convolverNode.buffer=s.reverbImpulse),s.panNode.connect(n.destination),s.echo&&(s.feedbackNode.gain.value=s.feebackValue,s.delayNode.delayTime.value=s.delayValue,s.filterNode.frequency.value=s.filterValue,s.delayNode.connect(s.feedbackNode),s.filterValue>0?(s.feedbackNode.connect(s.filterNode),s.filterNode.connect(s.delayNode)):s.feedbackNode.connect(s.delayNode),s.volumeNode.connect(s.delayNode),s.delayNode.connect(s.panNode)),s.soundNode.loop=s.loop,s.soundNode.start(0,s.startOffset%s.buffer.duration),s.playing=!0},s.pause=function(){s.playing&&(s.soundNode.stop(0),s.startOffset+=n.currentTime-s.startTime,s.playing=!1)},s.restart=function(){s.playing&&s.soundNode.stop(0),s.startOffset=0,s.play()},s.playFrom=function(e){s.playing&&s.soundNode.stop(0),s.startOffset=e,s.play()},s.setEcho=function(e,t,n){void 0===e&&(e=.3),void 0===t&&(t=.3),void 0===n&&(n=0),s.delayValue=e,s.feebackValue=t,s.filterValue=n,s.echo=!0},s.setReverb=function(e,t,_){void 0===e&&(e=2),void 0===t&&(t=2),void 0===_&&(_=!1),s.reverbImpulse=i(e,t,_,n),s.reverb=!0},s.fade=function(e,t){s.playing&&(s.volumeNode.gain.linearRampToValueAtTime(s.volumeNode.gain.value,n.currentTime),s.volumeNode.gain.linearRampToValueAtTime(e,n.currentTime+t))},s.fadeIn=function(e){s.volumeNode.gain.value=0,s.fade(1,e)},s.fadeOut=function(e){s.fade(0,e)},Object.defineProperties(s,{volume:{get:function(){return s.volumeValue},set:function(e){s.volumeNode.gain.value=e,s.volumeValue=e},enumerable:!0,configurable:!0},pan:{get:function(){return n.createStereoPanner?s.panNode.pan.value:s.panValue},set:function(e){if(n.createStereoPanner)s.panNode.pan.value=e;else{var t=e,_=1-Math.abs(t);s.panNode.setPosition(t,0,_),s.panValue=e}},enumerable:!0,configurable:!0}}),_&&a(s,e,t,c),o&&r(s,o,t,c),s}function a(e,t,n,_){var o=new XMLHttpRequest;o.open("GET",t,!0),o.responseType="arraybuffer",o.addEventListener("load",r.bind(this,e,o,n,_)),o.send()}function r(e,t,_,o){n.decodeAudioData(t.response,(function(t){e.buffer=t,e.hasLoaded=!0,_&&_(e.source)}),(function(t){o&&o(e.source,t)}))}function i(e,t,n,_){for(var o=_.sampleRate*e,a=_.createBuffer(2,o,_.sampleRate),r=a.getChannelData(0),i=a.getChannelData(1),c=0;c<o;c++){var s=Math.pow(1-c/o,t);r[c]=.5*Math.random()*s,i[c]=.5*Math.random()*s}return a}t.sounds=_,t.makeSound=o,t.loadSound=a,t.decodeAudio=r,t.soundEffect=function(e,t,_,o,a,r,c,s,u,l,d,p,m,E){var O,b,C,j,P,f;function D(e){var t=n.createConvolver();t.buffer=i(m[0],m[1],m[2],n),e.connect(t),t.connect(C)}function x(e){var t=n.createGain(),_=n.createDelay(),o=n.createBiquadFilter();_.delayTime.value=p[0],t.gain.value=p[1],p[2]&&(o.frequency.value=p[2]),_.connect(t),p[2]?(t.connect(o),o.connect(_)):t.connect(_),e.connect(_),_.connect(C)}function M(e){e.gain.value=0,e.gain.linearRampToValueAtTime(0,n.currentTime+c),e.gain.linearRampToValueAtTime(a,n.currentTime+c+t)}function y(e){e.gain.linearRampToValueAtTime(a,n.currentTime+t+c),e.gain.linearRampToValueAtTime(0,n.currentTime+c+t+_)}function h(e){var o=e.frequency.value;u?(e.frequency.linearRampToValueAtTime(o,n.currentTime+c),e.frequency.linearRampToValueAtTime(o+s,n.currentTime+c+t+_)):(e.frequency.linearRampToValueAtTime(o,n.currentTime+c),e.frequency.linearRampToValueAtTime(o-s,n.currentTime+c+t+_))}function v(e){e.start(n.currentTime+c),e.stop(n.currentTime+c+2)}void 0===e&&(e=200),void 0===t&&(t=0),void 0===_&&(_=1),void 0===o&&(o="sine"),void 0===a&&(a=1),void 0===r&&(r=0),void 0===c&&(c=0),void 0===s&&(s=0),void 0===u&&(u=!1),void 0===l&&(l=0),void 0===d&&(d=0),void 0===p&&(p=void 0),void 0===m&&(m=void 0),void 0===E&&(E=void 0),O=n.createOscillator(),b=n.createGain(),C=n.createStereoPanner?n.createStereoPanner():n.createPanner(),O.connect(b),b.connect(C),C.connect(n.destination),b.gain.value=a,n.createStereoPanner?C.pan.value=r:C.setPosition(r,0,1-Math.abs(r)),O.type=o,l>0?(P=e-l/2,f=e+l/2,j=Math.floor(Math.random()*(f-P+1))+P):j=e,O.frequency.value=j,t>0&&M(b),y(b),s>0&&h(O),p&&x(b),m&&D(b),d>0&&function(){var e=n.createOscillator(),o=n.createOscillator(),r=n.createGain(),i=n.createGain();r.gain.value=a,i.gain.value=a,e.connect(r),r.connect(n.destination),o.connect(i),i.connect(n.destination),e.type="sawtooth",o.type="sawtooth",e.frequency.value=j+d,o.frequency.value=j-d,t>0&&(M(r),M(i));_>0&&(y(r),y(i));s>0&&(h(e),h(o));p&&(x(r),x(i));m&&(D(r),D(i));v(e),v(o)}(),v(O)},t.impulseResponse=i,t.keyboard=function(e){var t={};return t.code=e,t.isDown=!1,t.isUp=!0,t.press=void 0,t.release=void 0,t.downHandler=function(e){e.keyCode===t.code&&(t.isUp&&t.press&&t.press(),t.isDown=!0,t.isUp=!1),e.preventDefault()},t.upHandler=function(e){e.keyCode===t.code&&(t.isDown&&t.release&&t.release(),t.isDown=!1,t.isUp=!0),e.preventDefault()},window.addEventListener("keydown",t.downHandler.bind(t),!1),window.addEventListener("keyup",t.upHandler.bind(t),!1),t}},22:function(e,t,n){"use strict";n.r(t);n(4);var _=n(16),o=n.n(_),a=n(17),r=n(0);o.a.render(Object(r.jsx)(a.a,{}),document.getElementById("root"))},46:function(e,t,n){}},[[22,1,2]]]);
//# sourceMappingURL=main.66ed1e51.chunk.js.map